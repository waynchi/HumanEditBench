import pandas as pd
import statsmodels.api as sm
from statsmodels.formula.api import ols


data = {
    'Brand': ['A'] * len(brand_A) + ['B'] * len(brand_B) + ['C'] * len(brand_C),
    'Cost': all_data
}

df = pd.DataFrame(data)

# Realizar análisis ANOVA
from scipy import stats

# Separar los datos por grupo
groups = [df[df['Brand'] == brand]['Cost'].values for brand in df['Brand'].unique()]

# Realizar ANOVA de una vía
f_stat, p_value = stats.f_oneway(*groups)

# Crear tabla ANOVA manual
anova_table = pd.DataFrame({
    'sum_sq': [sum([(group.mean() - df['Cost'].mean())**2 * len(group) for group in groups]),
               sum([sum((group - group.mean())**2) for group in groups])],
    'df': [len(groups) - 1, len(df) - len(groups)],
    'F': [f_stat, None],
    'PR(>F)': [p_value, None]
}, index=['Brand', 'Residual'])

anova_table['mean_sq'] = anova_table['sum_sq'] / anova_table['df']

# Imprimir la tabla ANOVA
print(anova_table)