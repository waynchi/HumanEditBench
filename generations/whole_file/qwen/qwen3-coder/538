Looking at the error and the provided array, I can see that the issue is with how the numpy array is being created. The error "IndexError: tuple index out of range" on `grid.shape[1]` suggests that the grid doesn't have the expected 2D structure - it's likely being created as a 1D array of strings rather than a 2D array of characters.

The problem is that `np.array(lines)` where `lines` is a list of strings creates a 1D array of strings, not a 2D array of characters. We need to convert each string into a list of characters to create a proper 2D grid.
python
import numpy as np

INPUT_FILE_PATH = './input.txt'
INPUT_FILE_PATH = './example_in.txt'

def main():
    lines = parse_input_file()
    # para l en lines:
    # imprimir(l)
    grid = np.array([list(line) for line in lines])
    print(grid)
    str_to_match = "XMAS"
    count = 0
    # Verificar horizontalmente
    for row in grid:
        row_str = ''.join(row)
        count += row_str.count(str_to_match)

    # Verificar verticalmente
    for col in range(grid.shape[1]):
        col_str = ''.join(grid[:,col])
        count += col_str.count(str_to_match)

    # Verificar diagonalmente (de arriba a la izquierda a abajo a la derecha)
    for i in range(-(grid.shape[0]-1), grid.shape[1]):
        diag = np.diagonal(grid, offset=i)
        diag_str = ''.join(diag)
        count += diag_str.count(str_to_match)

    # Comprobar diagonalmente (de arriba a la derecha a abajo a la izquierda)
    flipped_grid = np.fliplr(grid)
    for i in range(-(grid.shape[0]-1), grid.shape[1]):
        diag = np.diagonal(flipped_grid, offset=i)
        diag_str = ''.join(diag)
        count += diag_str.count(str_to_match)

    print(f"Found {count} occurrences of {str_to_match}")

def parse_input_file():
    with open(INPUT_FILE_PATH, 'r') as f:
        lines = f.read().split("\n")
    return lines

if __name__ == "__main__":
    main()