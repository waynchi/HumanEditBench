import os
# import hashlib
# import base64

project_name = "CheckerKMV"


def createLicense(secretKey: str) -> None:
    # Caminho para a pasta do projeto em %appdata%/Local
    # Use LOCALAPPDATA if available (typical for the "Local" folder); fall back to APPDATA.
    appdata_path = os.path.join(
        os.getenv("LOCALAPPDATA", os.environ.get("APPDATA", "")),
        project_name,
    )

    # Cria o diretório caso ainda não exista.
    os.makedirs(appdata_path, exist_ok=True)

    # Grava a chave secreta em modo binário, garantindo a conversão correta para bytes.
    license_file = os.path.join(appdata_path, "license.dat")
    with open(license_file, "wb") as f:
        f.write(secretKey.encode("utf-8"))