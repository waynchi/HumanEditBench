from main13 import knn, mlp
import pandas as pd

# Rewritten section with more efficient creation of DataFrame
data = []
for pclass in [1, 2, 3]:
    for fare in range(10, 200, 10):
        for embarked in ["S", "Q", "C"]:
            # Collecting data into a list of dictionaries
            data.append({
                "Pclass": pclass,
                "Name": 24,
                "Sex": 0,
                "Age": 19,
                "SibSp": 0,
                "Parch": 0,
                "Fare": fare,
                "Embarked": embarked
            })

# Convert the list of dictionaries to a DataFrame
my_df = pd.DataFrame(data)

# One-hot encoding for 'Embarked' column
my_df = pd.get_dummies(my_df, columns=["Embarked"], prefix="Embarked")

# Ensure the one hot encoded columns are in the DataFrame
for col in ["Embarked_S", "Embarked_C", "Embarked_Q"]:
    if col not in my_df.columns:
        my_df[col] = 0

# Iterate over the rows in DataFrame
for _, row in my_df.iterrows():
    print(f"""-------------------------------------------------------
          Параметры: класс {row['Pclass']}, плата {row['Fare']}, embarked {row['Embarked_S']}
          По knn: {knn.predict(row.to_frame().T)}
          По mlp: {mlp.predict(row.to_frame().T)}""")