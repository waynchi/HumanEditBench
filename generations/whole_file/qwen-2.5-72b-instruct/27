from langchain_ollama.chat_models import ChatOllama

import json

# Initialize the LangChain chat model
chat_ollama = ChatOllama(model="llama3.2", host="http://localhost:11434")

with open("Vuori_Final_Approval_2024_09_24.json", "r") as file:
    shap_values_json = json.load(file).get("shap_values")
with open("system.prompt", "r") as file:
    sys_prompt = file.read().strip()

prompt = f"""
{shap_values_json}
"""

# Create messages for the chat model
messages = [
    {"role": "system", "content": sys_prompt},
    {"role": "user", "content": prompt},
]

# Get the response from the chat model
response = chat_ollama(messages)

print(response["message"]["content"])