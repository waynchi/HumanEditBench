import pandas as pd
import statsmodels.api as sm
from statsmodels.formula.api import ols


data = {
    'Brand': ['A'] * len(brand_A) + ['B'] * len(brand_B) + ['C'] * len(brand_C),
    'Cost': all_data
}

df = pd.DataFrame(data)

# Perform ANOVA analysis in pure Python (no R-style formula)
# 1. Build the design matrix
X = pd.get_dummies(df['Brand'], drop_first=True)    # create dummy vars for Brand (drops one level)
X = sm.add_constant(X)                              # add intercept
y = df['Cost']

# 2. Fit the OLS model
model = sm.OLS(y, X).fit()

# 3. Compute the ANOVA table
anova_table = sm.stats.anova_lm(model, typ=2)

# Print the ANOVA table
print(anova_table)