import requests


def registerKey(key: str, user: str):
    print(f'chave: {key}\nnome: {user}')
    try:
        response = requests.post(f'http://127.0.0.1:5000/register/{key}/{user}')

        if response.status_code == 200 and 'valid' in response.json() and response.json()['valid']:
            return True

        if 'valid' in response.json() and response.json()['valid']:
            return True

        return False

    except requests.RequestException as e:
        print(f"Erro de conexÃ£o: {e}")
        return False